<% content_for :title, 'Validation errors' %>

<table class="govuk-table">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th class="govuk-table__header govuk-table__header govuk-!-width-one-quarter">Time</th>
      <th class="govuk-table__header govuk-table__header govuk-!-width-one-quarter">Form</th>
      <th class="govuk-table__header govuk-table__header govuk-!-width-three-quarters">Errors</th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
  <% @validation_errors.each do |validation_error| %>
    <tr class="govuk-table__row">
      <td class="govuk-table__cell">
        <%= validation_error.created_at.to_s(:govuk_date_and_time) %>
      </td>
      <td class="govuk-table__cell">
        <%= validation_error.form_object %>
      </td>
      <td class="govuk-table__cell">
        <% validation_error.what_went_wrong.each do |error| %>
          <%= render SummaryListComponent.new(rows: error) %>
        <% end %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
